# conf/eval.yaml
defaults:
  - datasets: dataset_list.yaml
  - models: model_list.yaml
  - _self_

eval:
  suite: ["LabelSimilarity", "ARI"] # Standard evaluators + scib (handled separately)
  n_top_genes: 5000 # For scib

  # Evaluation mode settings
  skip_plotting: false # If true, skip plotting
  plot_only: false # If true, skip computation and only regenerate plots from cached data
  skip_missing_cache: false # If true, skip datasets/models without cache when plot_only=true
  skip_if_eval_exists: false # If true, skip processing if eval directory already exists

  # Parallelization settings
  enable_parallel: false # Enable parallel processing of dataset/model combinations
  max_workers: null # Maximum number of parallel workers (null = auto-detect CPU count)
  task_timeout: 3600 # Maximum time (seconds) per dataset/model combination (1 hour default)

  # ScIB specific settings
  skip_scib_on_error: true # Skip ScIB evaluation if it encounters errors instead of failing entire task

  # Plot configuration parameters
  save_format: "png" # Format for plots: "pdf", "png", "svg", etc.
  figsize: [12, 12] # Figure size for plots
  dpi: 600 # DPI for saved plots
  point_size: 100 # Size of points in scatter plots (null uses default)
  text_plot_enlargement_factor: 2.0 # Factor to enlarge figure size for plots with text annotations (1.5 = 50% larger)
  legend_layout: "horizontal" # Legend layout: "horizontal" or "vertical"
  legend_point_size: 12 # Size of points in legends
  text_dot_fill_color: "label" # Fill color of dots for text annotations ("red", "blue", "none", "label", etc.)
  text_dot_edge_color: "label" # Edge color of dots for text annotations ("white", "black", "none", "label", etc.)
  text_dot_alpha: 0.5 # Transparency of dots for text annotations (0.0 = fully transparent, 1.0 = fully opaque)
  umap_method: "combined" # UMAP computation method: "combined" (original) or "separate" (new method)

  # Font and text styling
  font_size: 20 # General font size
  font_style: "normal" # Font style: "normal", "italic", "oblique"
  font_weight: "normal" # Font weight: "normal", "bold", "light", "heavy"

  # Legend styling
  legend_fontsize: 24 # Font size for legends
  #legend_loc: "right margin" # Legend location

  # Axis styling
  axis_label_size: 18 # Size of axis labels
  axis_tick_size: 18 # Size of axis tick labels

  # Additional plot parameters
  frameon: false # Whether to show frame around plots

output:
  root: ${hydra:runtime.cwd}/out/embeddings
